<!--
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->
<header></header>

<ion-content padding fullscreen>
  <div class="header-background"></div>

  <ion-card class="margin-card">
    <h3>DeepSOS</h3>
    <h2><strong>Shelter</strong> {{car.name}}</h2>
    <div class="car-details">
      <p class="opaque">
       Select SOS
      </p>
      <p>
         Task Prize is listed as Best Prize.
      </p>
    </div>
  </ion-card>

  <ion-card class="animatedCard" [class.expandedCard]="selected === 'trim'">
    <h3 class="car-option" (click)="open('trim')">
      <img [hidden]="states['trim']" src="assets/circle_empty.svg">
      <img [hidden]="!states['trim']" src="assets/circle_tick.svg">
      Shelter <p>
        Task Worth : 3300 Coins
      </p>
      <span class="car-option-selected">{{states['trim']}}</span>
    </h3>

    <div>
      <div class="option-item top-option-item" (click)="select('trim', 'standard')">
        <div class="option-description">
          <h2>Goverment</h2>
          <p>
            A simple shelter.
          </p>
        </div>
        <ion-badge [hidden]="states['trim'] === 'standard'" item-right color="dark">Free</ion-badge>
        <ion-badge [hidden]="states['trim'] !== 'standard'" item-right color="dark" class="selected"><img src="assets/tick.svg"></ion-badge>
      </div>

      <div class="option-item" (click)="select('trim', 'executive')">
        <div class="option-description">
          <h2>Red Cross</h2>
          <p>
            Best supplied.
          </p>
        </div>
        <ion-badge [hidden]="states['trim'] === 'executive'" item-right color="dark">+£450</ion-badge>
        <ion-badge [hidden]="states['trim'] !== 'executive'" item-right color="dark" class="selected"><img src="assets/tick.svg"></ion-badge>
      </div>
    </div>
  </ion-card>

  <ion-card class="animatedCard" [class.expandedCard]="selected === 'colour'">
    <h3 class="car-option" (click)="open('colour')">
      <img [hidden]="states['colour']" src="assets/circle_empty.svg">
      <img [hidden]="!states['colour']" src="assets/circle_tick.svg">
      Medical <p>
        Task Worth : 6600 Coins
      </p>
      <span class="car-option-selected">{{states['colour']}}</span>
    </h3>

    <div class="option-colours">
      <div class="option-colour" (click)="select('colour', 'sunburst orange')" [ngClass]="{selected: states['colour'] === 'sunburst orange'}">
        <div class="option-colour-preview sunburst"></div>
        <h4>Emergency Doctor</h4>
      </div>

      <div class="option-colour" (click)="select('colour', 'inferno red')" [ngClass]="{selected: states['colour'] === 'inferno red'}">
        <div class="option-colour-preview red"></div>
        <h4>Nurse</h4>
      </div>

      <div class="option-colour" (click)="select('colour', 'royal purple')" [ngClass]="{selected: states['colour'] === 'royal purple'}">
        <div class="option-colour-preview purple"></div>
        <h4>Blood</h4>
      </div>

      <div class="option-colour" (click)="select('colour', 'alpine green')" [ngClass]="{selected: states['colour'] === 'alpine green'}">
        <div class="option-colour-preview green"></div>
        <h4>EMT</h4>
      </div>

      <div class="option-colour" (click)="select('colour', 'statement blue')" [ngClass]="{selected: states['colour'] === 'statement blue'}">
        <div class="option-colour-preview blue"></div>
        <h4>Ambulance</h4>
      </div>

      <div class="option-colour" (click)="select('colour', 'vibrant grape')" [ngClass]="{selected: states['colour'] === 'vibrant grape'}">
        <div class="option-colour-preview grape"></div>
        <h4>MED EVAC</h4>
      </div>
    </div>
  </ion-card>

  <ion-card class="animatedCard" [class.expandedCard]="selected === 'interior'">
    <h3 class="car-option" (click)="open('interior')">
      <img [hidden]="states['interior']" src="assets/circle_empty.svg">
      <img [hidden]="!states['interior']" src="assets/circle_tick.svg">
      Food <p>
        Task Worth : 900 Coins
      </p>
      <span class="car-option-selected">{{states['interior']}}</span>
    </h3>

    <div class="option-interiors">
      <div class="option-interior" (click)="select('interior', 'red rum')" [ngClass]="{selected: states['interior'] === 'red rum'}">
        <div class="option-interior-preview red"></div>
        <h4>Vegetarian</h4>
      </div>

      <div class="option-interior" (click)="select('interior', 'papyrus')" [ngClass]="{selected: states['interior'] === 'papyrus'}">
        <div class="option-interior-preview papyrus"></div>
        <h4>Non-Vegetarian</h4>
      </div>

      <div class="option-interior" (click)="select('interior', 'rotor grey')" [ngClass]="{selected: states['interior'] === 'rotor grey'}">
        <div class="option-interior-preview grey"></div>
        <h4>Special Diet</h4>
      </div>

      <div class="option-interior" (click)="select('interior', 'noble brown')" [ngClass]="{selected: states['interior'] === 'noble brown'}">
        <div class="option-interior-preview brown"></div>
        <h4>Anything</h4>
      </div>
    </div>
  </ion-card>

  <ion-card class="animatedCard" [class.expandedCard]="selected === 'extras'">
    <h3 class="car-option" (click)="open('extras')">
      <img [hidden]="states['extras']" src="assets/circle_empty.svg">
      <img [hidden]="!states['extras']" src="assets/circle_tick.svg">
      Rescue <p>
        Task Worth : 7778 Coins
      </p>
      <span class="car-option-selected">{{getExtras()}}</span>
    </h3>

    <div>
      <div class="option-item top-option-item" (click)="select('extras', 'extended warranty')">
        <div class="option-description">
          <h2>Drone Rescue</h2>
          <p>
            First Available Drone will be sent.
          </p>
        </div>
        <ion-badge [hidden]="containsExtra('extended warranty')" item-right color="dark">+£150</ion-badge>
        <ion-badge [hidden]="!containsExtra('extended warranty')" item-right color="dark" class="selected"><img src="assets/tick.svg"></ion-badge>
      </div>

      <div class="option-item" (click)="select('extras', 'tinted windows')">
        <div class="option-description">
          <h2>SOS</h2>
          <p>
            System Recommended Best Rescue.
          </p>
        </div>
        <ion-badge [hidden]="containsExtra('tinted windows')" item-right color="dark">+£450</ion-badge>
        <ion-badge [hidden]="!containsExtra('tinted windows')" item-right color="dark" class="selected"><img src="assets/tick.svg"></ion-badge>
      </div>
    </div>
  </ion-card>

  <ion-card>
    <button ion-button color="secondary" id="purchase" [disabled]="!(states['interior'] && states['colour'] && states['trim'] && ready)" (click)="purchase()" >Place Order <img class="right-arr" src="assets/arrow_right.svg" (click)="purchase()"></button>
  </ion-card>
</ion-content>
